<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Mongoose v5.0.10: SchemaTypes</title><link rel="apple-touch-icon" sizes="57x57" href="images/favicon/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="images/favicon/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="images/favicon/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="images/favicon/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="images/favicon/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="images/favicon/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="images/favicon/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="images/favicon/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="images/favicon/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="images/favicon/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png"><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans"><link rel="stylesheet" href="/docs/css/github.css"><link rel="stylesheet" href="/docs/css/mongoose5.css"><link rel="apple-touch-icon" sizes="57x57" href="images/favicon/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="images/favicon/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="images/favicon/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="images/favicon/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="images/favicon/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="images/favicon/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="images/favicon/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="images/favicon/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="images/favicon/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="images/favicon/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png"><link rel="manifest" href="images/favicon/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="images/favicon/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"></head><body><div id="layout"><div id="mobile-menu"><a id="menuLink" href="#menu" class="menu-link"><span></span></a><div id="mobile-logo-container"><a href="/"><img id="logo" src="/docs/images/mongoose5_62x30_transparent.png"><span class="logo-text">mongoose</span></a></div></div><div id="menu"><div class="pure-menu"><div id="logo-container" class="pure-menu-heading"><a href="/"><img id="logo" src="/docs/images/mongoose5_62x30_transparent.png"><span class="logo-text">mongoose</span></a></div><ul class="pure-menu-list"><li class="pure-menu-horizontal pure-menu-item pure-menu-has-children pure-menu-allow-hover version"><a href="#" class="pure-menu-link">版本号 5.0.10</a><ul class="pure-menu-children"><li class="pure-menu-item"><a href="/docs/4.x" class="pure-menu-link">版本号 4.13.11</a></li><li class="pure-menu-item"><a href="/docs/3.8.x" class="pure-menu-link">版本号 3.8.40</a></li></ul></li><li class="pure-menu-item"><a href="/docs/index.html" class="pure-menu-link">快速开始 (Quick Start)</a></li><li class="pure-menu-item"><a href="/docs/guide.html" class="pure-menu-link">模式 (Schemas)</a></li><li class="pure-menu-item sub-item"><a href="/docs/schematypes.html" class="pure-menu-link">模式类型 (SchemaTypes)</a></li><li class="pure-menu-item sub-item"><a href="/docs/connections.html" class="pure-menu-link">连接 (Connections)</a></li><li class="pure-menu-item sub-item"><a href="/docs/models.html" class="pure-menu-link">模型 (Models)</a></li><li class="pure-menu-item sub-item"><a href="/docs/documents.html" class="pure-menu-link">文档 (Documents)</a></li><li class="pure-menu-item sub-item"><a href="/docs/subdocs.html" class="pure-menu-link">子文档 (Subdocuments)</a></li><li class="pure-menu-item sub-item"><a href="/docs/queries.html" class="pure-menu-link">查询 (Queries)</a></li><li class="pure-menu-item sub-item"><a href="/docs/validation.html" class="pure-menu-link">验证 (Validation)</a></li><li class="pure-menu-item sub-item"><a href="/docs/middleware.html" class="pure-menu-link">中间件 (Middleware)</a></li><li class="pure-menu-item sub-item"><a href="/docs/populate.html" class="pure-menu-link">填充 (Populate)</a></li><li class="pure-menu-item sub-item"><a href="/docs/discriminators.html" class="pure-menu-link">鉴别器 (Discriminators)</a></li><li class="pure-menu-item sub-item"><a href="/docs/plugins.html" class="pure-menu-link">插件 (Plugins)</a></li><li class="pure-menu-item sub-item"><a href="/docs/lambda.html" class="pure-menu-link">亚马逊网络服务 (AWS Lambda)</a></li><li class="pure-menu-item"><a href="/docs/api.html" class="pure-menu-link">接口 (API)</a></li><li class="pure-menu-item sub-item"><a href="/docs/api.html#Schema" class="pure-menu-link">模式 (Schema)</a></li><li class="pure-menu-item sub-item"><a href="/docs/api.html#Connection" class="pure-menu-link">连接 (Connection)</a></li><li class="pure-menu-item sub-item"><a href="/docs/api.html#Document" class="pure-menu-link">文档 (Document)</a></li><li class="pure-menu-item sub-item"><a href="/docs/api.html#Model" class="pure-menu-link">模型 (Model)</a></li><li class="pure-menu-item sub-item"><a href="/docs/api.html#Query" class="pure-menu-link">查询 (Query)</a></li><li class="pure-menu-item sub-item"><a href="/docs/api.html#Aggregate" class="pure-menu-link">聚合 (Aggregate)</a></li><li class="pure-menu-item sub-item"><a href="/docs/api.html#Schematype" class="pure-menu-link">模式类型 (SchemaType)</a></li><li class="pure-menu-item sub-item"><a href="/docs/api.html#Virtualtype" class="pure-menu-link">虚拟类型 (VirtualType)</a></li><li class="pure-menu-item sub-item"><a href="/docs/api.html#Error" class="pure-menu-link">错误 (Error)</a></li><li class="pure-menu-item"><a href="/docs/compatibility.html" class="pure-menu-link">版本兼容性</a></li><li class="pure-menu-item"><a href="/docs/faq.html" class="pure-menu-link">常见问题 (FAQ)</a></li><li class="carbon-ad"><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=mongoosejscom" id="_carbonads_js"></script></li></ul></div></div><div class="container"><div id="content"><h2 id="schematypes"><a href="#schematypes">模式类型（SchemaTypes）</a></h2>

<p>Schema类型控制
<a href="./api.html#schematype_SchemaType-default">defaults</a>、
<a href="./api.html#schematype_SchemaType-validate">validation</a>、
<a href="./api.html#schematype_SchemaType-get">getters</a>、
<a href="./api.html#schematype_SchemaType-set">setters</a>、
用于<a href="./api.html#query-js">queries</a> 的 <a href="./api.html#schematype_SchemaType-select">field selection defaults</a>
以及其他String和Number通用的特性的定义。</p>
<p>下面的类型在mongoose中都是合法的Schema类型。</p>
<ul>
<li><a href="./api.html#schema-string-js">String</a></li>
<li><a href="./api.html#schema-number-js">Number</a></li>
<li><a href="./api.html#schema-date-js">Date</a></li>
<li><a href="./api.html#schema-buffer-js">Buffer</a></li>
<li>Boolean</li>
<li>Mixed</li>
<li><a href="./api.html#schema-objectid-js">Objectid</a></li>
<li>Array</li>
<li>Decimal128</li>
</ul>
<h4>例子</h4>

<pre><code class="lang-javaScript"><span class="hljs-keyword">var</span> schema = <span class="hljs-keyword">new</span> Schema({
  name:    <span class="hljs-built_in">String</span>,
  binary:  Buffer,
  living:  <span class="hljs-built_in">Boolean</span>,
  updated: { type: <span class="hljs-built_in">Date</span>, <span class="hljs-keyword">default</span>: <span class="hljs-built_in">Date</span>.now },
  age:     { type: <span class="hljs-built_in">Number</span>, min: <span class="hljs-number">18</span>, max: <span class="hljs-number">65</span> },
  mixed:   Schema.Types.Mixed,
  _someId: Schema.Types.ObjectId,
  decimal: Schema.Types.Decimal128,
  array:      [],
  ofString:   [<span class="hljs-built_in">String</span>],
  ofNumber:   [<span class="hljs-built_in">Number</span>],
  ofDates:    [<span class="hljs-built_in">Date</span>],
  ofBuffer:   [Buffer],
  ofBoolean:  [<span class="hljs-built_in">Boolean</span>],
  ofMixed:    [Schema.Types.Mixed],
  ofObjectId: [Schema.Types.ObjectId],
  ofArrays:   [[]],
  ofArrayOfNumbers: [[<span class="hljs-built_in">Number</span>]],
  nested: {
    stuff: { type: <span class="hljs-built_in">String</span>, lowercase: <span class="hljs-literal">true</span>, trim: <span class="hljs-literal">true</span> }
  }
})

<span class="hljs-comment">// 使用案例</span>

<span class="hljs-keyword">var</span> Thing = mongoose.model(<span class="hljs-string">'Thing'</span>, schema);

<span class="hljs-keyword">var</span> m = <span class="hljs-keyword">new</span> Thing;
m.name = <span class="hljs-string">'Statue of Liberty'</span>;
m.age = <span class="hljs-number">125</span>;
m.updated = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>;
m.binary = <span class="hljs-keyword">new</span> Buffer(<span class="hljs-number">0</span>);
m.living = <span class="hljs-literal">false</span>;
m.mixed = { any: { thing: <span class="hljs-string">'i want'</span> } };
m.markModified(<span class="hljs-string">'mixed'</span>);
m._someId = <span class="hljs-keyword">new</span> mongoose.Types.ObjectId;
m.array.push(<span class="hljs-number">1</span>);
m.ofString.push(<span class="hljs-string">"strings!"</span>);
m.ofNumber.unshift(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>);
m.ofDates.addToSet(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>);
m.ofBuffer.pop();
m.ofMixed = [<span class="hljs-number">1</span>, [], <span class="hljs-string">'three'</span>, { four: <span class="hljs-number">5</span> }];
m.nested.stuff = <span class="hljs-string">'good'</span>;
m.save(callback);
</code></pre>
<h3 id="schematype-options"><a href="#schematype-options">SchemaType 配置</a></h3>

<p>你可以直接用<code>type</code>或者带有<code>type</code>属性的对象，来声明一个<code>schema</code>。</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> schema1 = <span class="hljs-keyword">new</span> Schema({
  test: <span class="hljs-built_in">String</span> <span class="hljs-comment">// `test`是获取type属性String的一个方式</span>
});

<span class="hljs-keyword">var</span> schema2 = <span class="hljs-keyword">new</span> Schema({
  test: { type: <span class="hljs-built_in">String</span> } <span class="hljs-comment">// `test`是获取type属性String的一个方式</span>
});
</code></pre>
<p>对于 <code>type</code> 属性，你可以向一个字段添加额外的属性。
例如，如果你想在保存前让字符串小写：</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> schema2 = <span class="hljs-keyword">new</span> Schema({
  test: {
    type: <span class="hljs-built_in">String</span>,
    lowercase: <span class="hljs-literal">true</span> <span class="hljs-comment">// 总会转换 `test` 为小写形式</span>
  }
});
</code></pre>
<p><code>lowercase</code> 属性只对于字符串才有作用。
有一些适用于所有schema类型的选项，
而有一些只适用特定的schema类型。</p>
<h5>所有的 <code>Schema</code> 类型</h5>

<ul>
<li><code>required</code>: boolean | function, <code>true</code> 时会为这个属性添加一个<a href="./validation.html#built-in-validators">required validator</a>。</li>
<li><code>default</code>: Any | function, 默认值。如果值为 <code>function</code>，返回的值将用于默认值。</li>
<li><code>select</code>: boolean, 对于query特定的默认 <a href="https://docs.mongodb.com/manual/tutorial/project-fields-from-query-results/">映射（projections）</a>。</li>
<li><code>validate</code>: function, 为这个属性添加一个 <a href="./validation.html#built-in-validators">validator 函数</a>。</li>
<li><code>get</code>: function, 利用<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty"><code>Object.defineProperty()</code></a>为该属性自定义一个getter。</li>
<li><code>set</code>: function, 使用<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty"><code>Object.defineProperty()</code></a>为该属性定义一个setter。</li>
<li><code>alias</code>: string, 只适用于 <code>mongoose &gt;= 4.10.0</code> 的版本。 即别名，定义一个<a href="./guide.html#virtuals">虚拟属性（virtual）</a>来获取指定路径的值。</li>
</ul>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> numberSchema = <span class="hljs-keyword">new</span> Schema({
  integerOnly: {
    type: <span class="hljs-built_in">Number</span>,
    get: v =&gt; <span class="hljs-built_in">Math</span>.round(v),
    set: v =&gt; <span class="hljs-built_in">Math</span>.round(v),
    alias: <span class="hljs-string">'i'</span>
  }
});

<span class="hljs-keyword">var</span> <span class="hljs-built_in">Number</span> = mongoose.model(<span class="hljs-string">'Number'</span>, numberSchema);

<span class="hljs-keyword">var</span> doc = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>();
doc.integerOnly = <span class="hljs-number">2.001</span>;
doc.integerOnly; <span class="hljs-comment">// 2</span>
doc.i; <span class="hljs-comment">// 2</span>
doc.i = <span class="hljs-number">3.001</span>;
doc.integerOnly; <span class="hljs-comment">// 3</span>
doc.i; <span class="hljs-comment">// 3</span>
</code></pre>
<h5>索引（Indexes）</h5>

<p>你可以使用schema类型的配置来定义<a href="https://docs.mongodb.com/manual/indexes/">MongoDB 索引</a>。</p>
<ul>
<li><code>index</code>: boolean，是否在该属性上定义 <a href="https://docs.mongodb.com/manual/indexes/">index</a>。</li>
<li><code>unique</code>: boolean，是否在该属性上定义 <a href="https://docs.mongodb.com/manual/core/index-unique/">unique index</a>。</li>
<li><code>sparse</code>: boolean，是否在该属性上定义 <a href="https://docs.mongodb.com/manual/core/index-sparse/">sparse index</a>。</li>
</ul>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> schema2 = <span class="hljs-keyword">new</span> Schema({
  test: {
    type: <span class="hljs-built_in">String</span>,
    index: <span class="hljs-literal">true</span>,
    unique: <span class="hljs-literal">true</span> <span class="hljs-comment">// 如果配置`unique: true`，索引为唯一的 </span>
    <span class="hljs-comment">// 如果配置了`unique: true`，则`index: true`是可选的</span>
  }
});
</code></pre>
<h5>字符串（String）</h5>

<ul>
<li><code>lowercase</code>: boolean, 是否对该值总是调用 <code>.toLowerCase()</code>。</li>
<li><code>uppercase</code>: boolean, 是否对该值总是调用 <code>.toUpperCase()</code>。</li>
<li><code>trim</code>: boolean, 是否对该值总是调用 <code>.trim()</code>。</li>
<li><code>match</code>: RegExp, 创建一个 <a href="./validation.html">validator</a>，根据指定的正则表达式来检查该值。</li>
<li><code>enum</code>: Array, 创建一个 <a href="./validation.html">validator</a> ，检查该值是否在这个数组中。</li>
</ul>
<h5>数字（Number）</h5>

<ul>
<li><code>min</code>: Number, creates a <a href="./validation.html">validator</a> that checks if the value is greater than or equal to the given minimum.</li>
<li><code>max</code>: Number, creates a <a href="./validation.html">validator</a> that checks if the value is less than or equal to the given maximum.</li>
</ul>
<h5>日期（Date）</h5>

<ul>
<li><code>min</code>: Date</li>
<li><code>max</code>: Date</li>
</ul>
<h3 id="usage-notes"><a href="#usage-notes">使用注意事项（Usage notes）</a></h3>

<h4>日期（Dates）</h4>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date"> <code>Date</code> 的内建方法</a> are <a href="https://github.com/Automattic/mongoose/issues/1598"><strong>not</strong> hooked into</a> the mongoose change tracking logic which in English means that if you use a <code>Date</code> in your document and modify it with a method like <code>setMonth()</code>, mongoose will be unaware of this change and <code>doc.save()</code> will not persist this modification. If you must modify <code>Date</code> types using built-in methods, tell mongoose about the change with <code>doc.markModified(&#39;pathToYourDate&#39;)</code> before saving.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> Assignment = mongoose.model(<span class="hljs-string">'Assignment'</span>, { dueDate: <span class="hljs-built_in">Date</span> });
Assignment.findOne(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, doc</span>) </span>{
  doc.dueDate.setMonth(<span class="hljs-number">3</span>);
  doc.save(callback); <span class="hljs-comment">// THIS DOES NOT SAVE YOUR CHANGE</span>

  doc.markModified(<span class="hljs-string">'dueDate'</span>);
  doc.save(callback); <span class="hljs-comment">// works</span>
})
</code></pre>
<h4 id="mixed">混合型（Mixed）</h4>

<p>一种允许任何类型的SchemaType，它的灵活性会带来难以维护的后果。
可以通过传入 <code>Schema.Type.Mixed</code>或者 <code>{}</code>设置混合型。
下面几种方式效果是一样的：</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> Any = <span class="hljs-keyword">new</span> Schema({ any: {} });
<span class="hljs-keyword">var</span> Any = <span class="hljs-keyword">new</span> Schema({ any: <span class="hljs-built_in">Object</span> });
<span class="hljs-keyword">var</span> Any = <span class="hljs-keyword">new</span> Schema({ any: Schema.Types.Mixed });
</code></pre>
<p>因为它缺少schema类型，你可以随意改变其值，
但是Mongoose将失去自动监测和保存变化的能力。
通过调用document的<code>.markModified(path)</code>方法，
传入你刚刚改变的混合型的path，来告诉Mongoose发生变化后混合型的值。</p>
<pre><code class="lang-javascript">person.anything = { x: [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, { y: <span class="hljs-string">"changed"</span> }] };
person.markModified(<span class="hljs-string">'anything'</span>);
person.save(); <span class="hljs-comment">// 现在anything将会被保存</span>
</code></pre>
<h4 id="objectids">id对象（ObjectIds）</h4>

<p>在声明中使用 <code>Schema.Types.ObjectId</code>，来定义ObjectId类型。</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mongoose'</span>);
<span class="hljs-keyword">var</span> ObjectId = mongoose.Schema.Types.ObjectId;
<span class="hljs-keyword">var</span> Car = <span class="hljs-keyword">new</span> Schema({ driver: ObjectId });
<span class="hljs-comment">// 或者为了向下兼容v2版本，可以直接使用 Schema.ObjectId</span>
</code></pre>
<h4 id="arrays">数组（Arrays）</h4>

<p>支持创建<a href="./api.html#schema_Schema.Types">SchemaTypes</a>或<a href="./subdocs.html">Sub-Documents</a>的数组。</p>
<p>Provide creation of arrays of <a href="./api.html#schema_Schema.Types">SchemaTypes</a>
or <a href="./subdocs.html">Sub-Documents</a>.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> ToySchema = <span class="hljs-keyword">new</span> Schema({ name: <span class="hljs-built_in">String</span> });
<span class="hljs-keyword">var</span> ToyBox = <span class="hljs-keyword">new</span> Schema({
  toys: [ToySchema],
  buffers: [Buffer],
  string:  [<span class="hljs-built_in">String</span>],
  numbers: [<span class="hljs-built_in">Number</span>]
  <span class="hljs-comment">// ... 等等</span>
});
</code></pre>
<p>注意：指定空数组等同于 <code>Mixed</code>。
下面所有代码都是创建数组的 <code>Mixed</code>：</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> Empty1 = <span class="hljs-keyword">new</span> Schema({ any: [] });
<span class="hljs-keyword">var</span> Empty2 = <span class="hljs-keyword">new</span> Schema({ any: <span class="hljs-built_in">Array</span> });
<span class="hljs-keyword">var</span> Empty3 = <span class="hljs-keyword">new</span> Schema({ any: [Schema.Types.Mixed] });
<span class="hljs-keyword">var</span> Empty4 = <span class="hljs-keyword">new</span> Schema({ any: [{}] });
</code></pre>
<p>数组都会有一个默认值，值为 <code>[]</code>（空数组）。</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> Toy = mongoose.model(<span class="hljs-string">'Test'</span>, ToySchema);
<span class="hljs-built_in">console</span>.log((<span class="hljs-keyword">new</span> Toy()).toys); <span class="hljs-comment">// []</span>
</code></pre>
<p>为了覆盖默认值，你需要把默认值设置为 <code>undefined</code></p>
<p>To overwrite this default, you need to set the default value to <code>undefined</code></p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> ToySchema = <span class="hljs-keyword">new</span> Schema({
  toys: {
    type: [ToySchema],
    <span class="hljs-keyword">default</span>: <span class="hljs-literal">undefined</span>
  }
});
</code></pre>
<h3 id="customtypes"><a href="#customtypes">创建自定义类型（Creating Custom Types）</a></h3>

<p>Mongoose也可以通过SchemaTypes进行扩展。
你可以在<a href="http://plugins.mongoosejs.io">plugins</a>搜索兼容的类型，
比如<a href="https://github.com/aheckmann/mongoose-long">mongoose-long</a>、
<a href="https://github.com/vkarpov15/mongoose-int32">mongoose-int32</a>、
和
<a href="https://github.com/aheckmann/mongoose-function">其他</a>
<a href="https://github.com/OpenifyIt/mongoose-types">类型</a>。</p>
<h3 id="path"><a href="#path"><code>schema.path()</code>函数</a></h3>

<p>函数 <code>schema.path()</code> 返回指定path的实例化schema。</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> sampleSchema = <span class="hljs-keyword">new</span> Schema({ name: { type: <span class="hljs-built_in">String</span>, required: <span class="hljs-literal">true</span> } });
<span class="hljs-built_in">console</span>.log(sampleSchema.path(<span class="hljs-string">'name'</span>));
<span class="hljs-comment">// 输出形式如下：</span>
<span class="hljs-comment">/**
 * SchemaString {
 *   enumValues: [],
 *   regExp: null,
 *   path: 'name',
 *   instance: 'String',
 *   validators: ...
 */</span>
</code></pre>
<p>你可以使用这个函数来监视指定path的schema类型，
包括它的校验器，以及它的类型。</p>
<h3 id="next"><a href="#next">接下来</a></h3>

<p>现在我们已经讲完了 <code>SchemaTypes</code>，接下来让我们看一下<a href="/docs/models.html">Models</a>。</p>
</div></div><script type="text/javascript">!function(name,path,ctx){
  var latest,prev=name!=='Keen'&&window.Keen?window.Keen:false;ctx[name]=ctx[name]||{ready:function(fn){var h=document.getElementsByTagName('head')[0],s=document.createElement('script'),w=window,loaded;s.onload=s.onerror=s.onreadystatechange=function(){if((s.readyState&&!(/^c|loade/.test(s.readyState)))||loaded){return}s.onload=s.onreadystatechange=null;loaded=1;latest=w.Keen;if(prev){w.Keen=prev}else{try{delete w.Keen}catch(e){w.Keen=void 0}}ctx[name]=latest;ctx[name].ready(fn)};s.async=1;s.src=path;h.parentNode.insertBefore(s,h)}}
}('KeenAsync','https://d26b395fwzu5fz.cloudfront.net/keen-tracking-1.1.3.min.js',this);

KeenAsync.ready(function(){
  // Configure a client instance
  var client = new KeenAsync({
    projectId: '59aad9cbc9e77c0001ce1b32',
    writeKey: '4B38B0046086885E425D368BFAEAD8FD0D4F2DC2FA2F936FDE058D79508AEFAD9886BC020B96520823BB9C8241D9D9BCFDC0EF52E6033BD89D06E4B24FC13AE955896BF443406269A84DD009CEB5862DCEC944874DB2107FD648DA91ADC1E6DE'
  });

  client.recordEvent('pageView', {
    host: window.location.host,
    pathname: window.location.pathname,
    hash: window.location.hash
  });
});</script><script type="text/javascript">(function (window, document) {
  var layout   = document.getElementById('layout'),
      menu     = document.getElementById('menu'),
      menuLink = document.getElementById('menuLink'),
      content  = document.getElementById('content');

  function toggleClass(element, className) {
      var classes = element.className.split(/\s+/),
          length = classes.length,
          i = 0;

      for(; i < length; i++) {
        if (classes[i] === className) {
          classes.splice(i, 1);
          break;
        }
      }
      // The className is not found
      if (length === classes.length) {
          classes.push(className);
      }

      element.className = classes.join(' ');
  }

  function toggleAll(e) {
      var active = 'active';

      e.preventDefault();
      toggleClass(layout, active);
      toggleClass(menu, active);
      toggleClass(menuLink, active);
  }

  menuLink.onclick = function (e) {
      toggleAll(e);
  };

  content.onclick = function(e) {
      if (menu.className.indexOf('active') !== -1) {
          toggleAll(e);
      }
  };

}(this, this.document));</script></div></body></html>